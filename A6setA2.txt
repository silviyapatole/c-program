#INCLUDE <STDIO.H>
#INCLUDE <CTYPE.H>

INT MAIN() {
    file *SOURCE_FILE, *DESTINATION_FILE;
    CHAR SOURCE_FILENAME[100], DESTINATION_FILENAME[100];
    CHAR CH;

    PRINTF("eNTER THE NAME OF THE SOURCE FILE: ");
    SCANF("%S", SOURCE_FILENAME);
    PRINTF("eNTER THE NAME OF THE DESTINATION FILE: ");
    SCANF("%S", DESTINATION_FILENAME);

    SOURCE_FILE = FOPEN(SOURCE_FILENAME, "R");
    IF (SOURCE_FILE == null) {
        PRINTF("eRROR OPENING SOURCE FILE.\N");
        RETURN 1;
    }

    DESTINATION_FILE = FOPEN(DESTINATION_FILENAME, "W");
    IF (DESTINATION_FILE == null) {
        PRINTF("eRROR OPENING DESTINATION FILE.\N");
        FCLOSE(SOURCE_FILE);
        RETURN 1;
    }

    WHILE ((CH = FGETC(SOURCE_FILE)) != eof) {
        IF (ISALPHA(CH)) {
            IF (ISLOWER(CH)) {
                CH = TOUPPER(CH);
            } ELSE {
                CH = TOLOWER(CH);
            }
        }
        FPUTC(CH, DESTINATION_FILE);
    }

    FCLOSE(SOURCE_FILE);
    FCLOSE(DESTINATION_FILE);

    PRINTF("cONTENTS OF '%S' COPIED TO '%S' WITH REVERSED CASE.\N", SOURCE_FILENAME, DESTINATION_FILENAME);

    RETURN 0;
}
